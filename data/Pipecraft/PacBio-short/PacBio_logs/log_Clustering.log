Script started on Fri Jul 27 09:05:38 2018
### CLUSTERING ###

When using the incorporated tools, please cite as follows:

mothur (v1.36.1) - Schloss, P.D., et al., 2009. Introducing mothur: Open-Source, Platform-Independent, Community-Supported Software for Describing and Comparing Microbial Communities. Applied and Environmental Microbiology 75, 7537-7541.
www.mothur.org

vsearch (v1.11.1) - github.com/torognes/vsearch
Copyright (C) 2014-2015, Torbjorn Rognes, Frederic Mahe and Tomas Flouri.

CD-HIT (v4.6) - Fu, L., et al., 2012. CD-HIT: accelerated for clustering the next-generation sequencing data. Bioinformatics 28, 3150-3152.
weizhongli-lab.org/cd-hit/

swarm (v2.1.8) - Mahe, F., et al., 2015. Swarm v2: highly-scalable and high-resolution amplicon clustering. PeerJ 3:e1420 doi.org/10.7717/peerj.1420
Copyright (C) 2012-2016 Torbjorn Rognes and Frederic Mahe
Distributed under the GNU AFFERO GENERAL PUBLIC LICENSE version 3 by the Free Software Foundation
github.com/torognes/swarm
________________________________________________

Working directory = /shared/Shared_folder/Metagenomics/africa/Combined_pacbio
Input = /shared/Shared_folder/Metagenomics/africa/Combined_pacbio/ITSx_out.ITS2.redundant.fasta
Groups file = /shared/Shared_folder/Metagenomics/africa/Combined_pacbio/Pacbio.groups

Threshold = 0.97
MinLen = 10
MinSize = 2
Algorithm = 1
Threads = 1

### Clustering with vsearch ###
vsearch --cluster_fast /shared/Shared_folder/Metagenomics/africa/Combined_pacbio/ITSx_out.ITS2.redundant.fasta --centroids vsearch_centroids.fasta --uc clustering.out.uc --minseqlength 10 --id 0.97 --iddef 1 --xsize --fasta_width 0
vsearch v1.11.1_linux_x86_64, 13.7GB RAM, 1 cores

745690 nt in 4553 seqs, min 32, max 568, avg 164
Clusters: 1413 Size min 1, max 222, avg 3.2

# Converting UC cluster to regular CLUSTER format (may take a while)

# Keeping only clusters that contain >=2 sequences
gawk NF>=2 < Clusters.cluster > Clusters.MinSize2.cluster

# Removed 981 clusters that had less than 2 sequences (981 seqs removed)
# Kept 432 clusters with 3572 sequences (Clusters.MinSize2.cluster)

# Selecting representative seqs for Clusters.MinSize2.cluster
gawk {if (NF<2) print } Clusters.cluster > Seqs_to_remove.names

mothur > remove.seqs(fasta=vsearch_centroids.temp, accnos=Seqs_to_remove.names)
Removed 981 sequences from your fasta file.

Output File Names: 
vsearch_centroids.pick.temp

# Making OTU table

mothur > make.shared(list=mothur_with_count.list, group=Final.groups)
0.03

Output File Names: 
mothur_with_count.shared

##########################
DONE
#############################
Clustering finished
################################
Output clusters = Clusters.MinSize2.cluster
Output clusters = Clusters.cluster
UC formatted clusters = Clusters.uc
Vsearch representative seqs = vsearch_centroids.MinSize2.fasta
Vsearch representative seqs = vsearch_centroids.fasta
OTU table = OTU_table.txt
###################################
You may close this window now!

Script done on Fri Jul 27 09:05:42 2018
